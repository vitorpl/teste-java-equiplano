<p class="text-inform">
  Informe o número da apólice ou a placa do veículo para consultar:
</p>

<div class="container">
  <form #f="ngForm">

    <div class="row g-12">
      <div class="col-sm-2"></div>
      <div class="col-sm-4">
        <label for="numero" class="form-label">Nº da Apólice</label>
        <input type="text" class="form-control" 
          id="numero" 
          [(ngModel)]="apolice.numero"
          name="numero" #numero="ngModel"
          (keyup)="apolice.placa = ''"
          />
      </div>

      <div class="col-sm-4">
        <label for="placa" class="form-label">Placa</label>
        <input type="text" class="form-control" 
        pattern="^[A-Za-z]{3}[0-9][0-9A-Z][0-9]{2}"
          id="placa" 
          [(ngModel)]="apolice.placa"
          name="placa" #placa="ngModel"
          (keyup)="apolice.numero = ''"
          />
      </div>
    
      <div class="col-sm-12 text-center">
        <p><br/>
          <button class="btn btn-primary"
           (click)="pesquisarApolice()"
          type="submit">Pesquisar</button>
        </p>
      </div>

    </div>
  </form>
  <div *ngIf="mensagemErro" class="alert alert-danger alert-dismissible" role="alert">
    {{mensagemErro}}
  </div>

  <section id="dadosApolice" *ngIf="apolicePesquisa.numero">
    <table class="table table-striped table-hove table-sm">
      <tr>
        <td class="data-label">Número:</td>
        <td class="data-label-content">{{apolicePesquisa.numero}}</td>
      </tr>
      <tr>
        <td class="data-label">Cliente:</td>
        <td class="data-label-content">{{apolicePesquisa.cliente.nome}}</td>
      </tr>
      <tr>
        <td class="data-label">Placa do Veículo:</td>
        <td class="data-label-content">{{apolicePesquisa.placa}}</td>
      </tr>      
      <tr>
        <td class="data-label">Início Vigência:</td>
        <td class="data-label-content">{{apolicePesquisa.inicioVigencia | date: 'dd/MM/yyyy'}}</td>
      </tr>      
      <tr>
        <td class="data-label">Fim Vigência:</td>
        <td class="data-label-content">{{apolicePesquisa.fimVigencia | date: 'dd/MM/yyyy'}}</td>
      </tr>      
      <tr>
        <td class="data-label">Valor:</td>
        <td class="data-label-content">{{apolicePesquisa.valor | currency:'BRL':'symbol':'1.2-2'}}</td>
      </tr>
      <tr>
        <td class="data-label">Status:</td>
        <td class="data-label-content">{{apolicePesquisa.vencida ? 'Vencido' : 'Válido'}}</td>
      </tr>
      <tr>
        <td class="data-label">Dias para vencimento:</td>
        <td class="data-label-content">{{apolicePesquisa.diasParaVencimento}}</td>
      </tr>      
      <tr>
        <td class="data-label">Dias após vencimento:</td>
        <td class="data-label-content">{{apolicePesquisa.diasVencimento}}</td>
      </tr>           
    </table>
  </section>

</div>